<template>
    <div class="modal-overlay">
        <div class="user-login">
            <div class="login-header">
                <div class="header-left">
                    <h4>â˜ºï¸Hiï¼Œæ¬¢è¿ç™»å½•å‘€</h4>
                </div>
                <button class="close-button" @click="closeLogin">
                    <i class="iconfont icon-close-bold"></i>
                </button>
            </div>
            <div class="login-body">
                <div class="body-title">
                    <h2><span>AOYUKMTäº¤æµä¸­å¿ƒ</span></h2>
                </div>
                <form class="login-form">
                    <div class="form-group">
                        <label class="form-label">è¯·è¾“å…¥æ‚¨çš„è´¦å·:</label>
                        <div class="input-wrapper">
                            <input type="text" placeholder="ğŸ§ ç”¨æˆ·å/é‚®ç®±" v-model="userData.userLoginForm.account">
                            <i class="iconfont icon-close clear-icon" @click="account = ''"></i>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">è¯·è¾“å…¥æ‚¨è´¦å·çš„å¯†ç ï¼š</label>
                        <div class="input-wrapper">
                            <input :type="sowPassword ? 'text' : 'password'" placeholder="ğŸ” ç™»å½•å¯†ç "
                                v-model="userData.userLoginForm.password">
                            <i class="iconfont icon-browse password-icon" :class="{ 'active': showPassword }"
                                @click="showPassword = !showPassword"></i>
                        </div>

                    </div>
                    <SliderCaptcha />
                </form>
            </div>
            <div class="login-footer">
                <button class="submit-button" @click="submitLogin">{{ loginText }}</button>
                <div class="footer-links">
                    <button class="link-button" @click="toRegister">ğŸ¤“æˆ‘è¦å»æ³¨å†Œè´¦å·</button>
                    <button class="link-button" @click="toResetPassword">ğŸ˜ æˆ‘çš„å¯†ç å¿˜è®°äº†</button>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import { ref } from 'vue';
import { userStore } from '@/stores/user';
import { useRoute } from 'vue-router';
import SliderCaptcha from '../common/SliderCaptcha.vue';
const userData = userStore()
const account = ref('');
const password = ref('');
const showPassword = ref(false);
const loginText = ref("ç™»å½•")



const submitLogin = () => {
    console.log("è¡¨å•æäº¤æˆåŠŸï¼");
};


//å…³é—­ç™»å½•çª—å£
const emit = defineEmits(["close-login", "display-register", "display-reset"])
const closeLogin = () => {
    emit("close-login")
}

//å»æ³¨å†Œç‚¹å‡»äº‹ä»¶
const toRegister = () => {
    emit("display-register")
}

//å¿˜è®°å¯†ç ç‚¹å‡»äº‹ä»¶
const toResetPassword = () => {
    emit("display-reset")
}

</script>

<style lang="scss" scoped>
@use "@/assets/styles/user/login.scss" as *;
</style>